<!-- MAIN CONTENT AREA -->
<div class="main-content">
    <div class="content-header">
        <h1 class="content-title">My Topics</h1>
        <div class="breadcrumb">
            <div class="icon-item" title="Logout">
                <a href="{{ url_for('auth.logout') }}" style="color: inherit; text-decoration: none;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                        <polyline points="16 17 21 12 16 7"></polyline>
                        <line x1="21" y1="12" x2="9" y2="12"></line>
                    </svg>
                </a>
            </div>
            <span>Dashboard</span>
        </div>
    </div>

    <div class="content-body">
        {% if not all_topic %}
            <!-- Welcome state when no topics exist -->
            <div class="welcome-section">
                <div class="welcome-card">
                    <div>
                        <h2>üéØ Welcome to StudyMate</h2>
                        <p>Get started by creating your first topic to organize your learning materials, notes, and resources.</p>
                    </div>
                    <button class="btn-primary" onclick="createTopic()">Create Your First Topic</button>
                </div>
            </div>
        {% else %}
            <!-- Topics grid when topics exist -->
            <div class="topics-grid">
                {% for topic in all_topic %}
                    <div class="topic-card" onclick="window.location.href='{{ url_for('topic.view_topic', topic_id=topic.id) }}'">
                        <div class="topic-card-header">
                            <h3>{{ topic.name }}</h3>
                        <!-- Create delete button and add it to the top right -->
                            <form action="{{ url_for('topic.delete_topic', topic_id=topic.id) }}" method="POST">
                                <button class="btn-delete" type="submit" onclick="event.stopPropagation();">üóëÔ∏è</button>
                            </form>
                        </div>
                        <p>{{ topic.description or 'No description' }}</p>
                        <a class="btn-secondary" href="{{ url_for('topic.view_topic', topic_id=topic.id) }}" onclick="event.stopPropagation();">
                            View Topic ‚Üí
                        </a>
                    </div>
                {% endfor %}
                
                <!-- Add new topic card -->
                <div class="topic-card add-topic-card" onclick="createTopic()">
                    <div class="add-topic-icon">+</div>
                    <h3>Create New Topic</h3>
                </div>
            </div>
        {% endif %}
    </div>
</div>
<script>
    function openTopic(topicId) {
        fetch()
    }
</script>
